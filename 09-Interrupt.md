<!--
 * @Date: 2024-12-06
 * @LastEditors: GoKo-Son626
 * @LastEditTime: 2024-12-06
 * @FilePath: /1-STM32MP157/09-Interrupt.md
 * @Description: 
-->
# Interrupt

### 0. 在裸机中使用中断我们需要做一大堆的工作，比如配置寄存器，使能 IRQ 等等。但是 Linux 内核提供了完善的中断框架，我们只需要申请中断，然后注册中断处理函数即可，使用非常方便，不需要一系列复杂的寄存器配置。

### 1. Linux中断
1. 中断API函数
- 裸机实验里面中断的处理方法：
①、使能中断，初始化相应的寄存器。
②、注册中断服务函数，也就是向 irqTable 数组的指定标号处写入中断服务函数
②、中断发生以后进入 IRQ 中断服务函数，在 IRQ 中断服务函数在数组 irqTable 里面查找
具体的中断处理函数，找到以后执行相应的中断处理函数。
- Linux 内核中也提供了大量的中断相关的 API 函数，
**中断号**
每个中断都有一个中断号，通过中断号即可区分不同的中断，有的资料也把中断号叫做中
断线。在 Linux 内核中使用一个 int 变量表示中断号
**request_irq函数**














